<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1389367910457" ID="ID_327008178" MODIFIED="1389621505518" TEXT="Puppet">
<node CREATED="1389367931396" ID="ID_881072080" MODIFIED="1389367941112" POSITION="right" TEXT="Centos">
<node CREATED="1389368239946" ID="ID_1535736480" MODIFIED="1389368330635" TEXT="there is no P by default - rpm -UvH">
<icon BUILTIN="messagebox_warning"/>
<node CREATED="1389368255628" ID="ID_903402955" MODIFIED="1389368307845" TEXT="epel to get any  version"/>
<node CREATED="1389368308122" ID="ID_1845092498" MODIFIED="1389368320478" TEXT="yum.puppetlabs for newst"/>
</node>
<node CREATED="1389368332386" ID="ID_1665365140" MODIFIED="1389368345822" TEXT="yum install puppet/puppet-server"/>
<node CREATED="1389368357602" ID="ID_710796132" MODIFIED="1389368377782" TEXT="/etc/init.d/puppetmaster start">
<node CREATED="1389368394393" ID="ID_615976656" MODIFIED="1389368419553" TEXT="puppet master from command line ">
<font NAME="SansSerif" SIZE="12"/>
<node CREATED="1389368411965" ID="ID_1752499310" MODIFIED="1389368428742" TEXT="--no-demonize"/>
<node CREATED="1389368433809" ID="ID_832330276" MODIFIED="1389368437998" TEXT="--verbose"/>
</node>
<node CREATED="1389368439673" ID="ID_1776946608" MODIFIED="1389368453317" TEXT="will create SSL certs with first start"/>
</node>
</node>
<node CREATED="1389368479889" ID="ID_1862794077" MODIFIED="1389368490050" POSITION="left" TEXT="conf">
<node CREATED="1389368490053" ID="ID_1115082010" MODIFIED="1389368571453" TEXT="files in /etc/puppet"/>
<node CREATED="1389368607736" ID="ID_212396560" MODIFIED="1389372304973" TEXT="-A INPUT -p tcp -m state --state NEW -s 10.1.1.0/24 --dport 8140 -j ACCEPT">
<node CREATED="1389372306311" ID="ID_96464577" MODIFIED="1389372323397" TEXT="add to etc/sysconfig/iptables"/>
</node>
<node CREATED="1389368526904" ID="ID_293370432" MODIFIED="1389368551533" TEXT="master">
<node CREATED="1389368496592" ID="ID_1775798464" MODIFIED="1389368506349" TEXT="puppet.conf">
<node CREATED="1389368583760" ID="ID_863031057" MODIFIED="1389368604733" TEXT="certname=fuld.domane.name"/>
</node>
<node CREATED="1389368507024" ID="ID_376146639" MODIFIED="1389368521397" TEXT="manifest/site.php"/>
<node CREATED="1389372415831" ID="ID_268032778" MODIFIED="1389372421370" TEXT="puppet cert --sign mysql1.zen.local">
<node CREATED="1389372446507" ID="ID_29897014" MODIFIED="1389372456596" TEXT="connect from box first!"/>
<node CREATED="1389372476470" ID="ID_1347983042" MODIFIED="1389372484147" TEXT="--all signs all in queue"/>
</node>
</node>
<node CREATED="1389368492529" ID="ID_1145594771" MODIFIED="1389373330077" TEXT="agent">
<node CREATED="1389372425310" ID="ID_331804319" MODIFIED="1389373339339" TEXT="puppet.conf">
<node CREATED="1389373339341" ID="ID_1814393603" MODIFIED="1389373367278" TEXT="server=pupetmastername"/>
</node>
</node>
<node CREATED="1389369715216" ID="ID_127708058" MODIFIED="1389369721098" TEXT="troubleshooting">
<node CREATED="1389369721100" ID="ID_1444115846" MODIFIED="1389369725274" TEXT="firewall">
<node CREATED="1389369725276" ID="ID_981583463" MODIFIED="1389369756927" TEXT="check if master binds on port">
<node CREATED="1389369728037" ID="ID_1632508440" MODIFIED="1389369761965" TEXT="netstat -tlnp"/>
</node>
<node CREATED="1389372332319" ID="ID_1171158166" MODIFIED="1389372348388" TEXT="telnet 8140"/>
</node>
<node CREATED="1389372365855" ID="ID_292181583" MODIFIED="1389372368804" TEXT=" puppet agent   --test --verbose --debug"/>
</node>
</node>
<node CREATED="1389628694438" ID="ID_1117721150" MODIFIED="1389628697400" POSITION="left" TEXT="catalog">
<node CREATED="1389628697402" ID="ID_1845112282" MODIFIED="1389628712569" TEXT="manifest is compiled into catalog"/>
<node CREATED="1389628760261" ID="ID_1679258447" MODIFIED="1389628791739" TEXT="static document with resources and relationships"/>
<node CREATED="1389628792636" ID="ID_972455553" MODIFIED="1389628804861" TEXT="variuse stages of Pppet run">
<node CREATED="1389628804864" ID="ID_647465298" MODIFIED="1389628816611" TEXT="in memory as Ruby object"/>
<node CREATED="1389628816926" ID="ID_1959239621" MODIFIED="1389628830923" TEXT="next transmited into JSON"/>
<node CREATED="1389628831148" ID="ID_1079666050" MODIFIED="1389628839891" TEXT="saved on disk as YAML"/>
</node>
<node CREATED="1389628861572" ID="ID_1904369163" MODIFIED="1389628887371" TEXT="master serves them to agent most recent is cached localy"/>
</node>
<node CREATED="1389697448224" ID="ID_1487039629" MODIFIED="1389697450916" POSITION="left" TEXT="puppet module generate">
<node CREATED="1389697450918" ID="ID_1829143218" MODIFIED="1389697459559" TEXT="starting with company name"/>
<node CREATED="1389697459920" ID="ID_1038019942" MODIFIED="1389697474351" TEXT="generates whole structure"/>
</node>
<node CREATED="1389621506069" ID="ID_820613782" MODIFIED="1389621572370" POSITION="right" TEXT="file hierarchy">
<node CREATED="1389621579024" ID="ID_1320467833" MODIFIED="1389621808736" TEXT="/manifests/">
<node CREATED="1389621582823" ID="ID_695821349" MODIFIED="1389621654441" TEXT="files and subdirs which determine manifest of individual system but don&apos;t belong logically to any module"/>
<node CREATED="1389621655084" ID="ID_1990774145" MODIFIED="1389621660437" TEXT="site.pp">
<node CREATED="1389621660440" ID="ID_556896745" MODIFIED="1389621715585" TEXT="read by puppet first when determing server cattalog"/>
<node CREATED="1389621672444" ID="ID_1562410026" MODIFIED="1389621729729" TEXT="defines any global defaults"/>
</node>
<node CREATED="1389621732067" ID="ID_892191283" MODIFIED="1389621739070" TEXT="templates.pp">
<node CREATED="1389621739073" ID="ID_1016708801" MODIFIED="1389621751009" TEXT="all template classes"/>
</node>
<node CREATED="1389621753867" ID="ID_1930813067" MODIFIED="1389621764509" TEXT="nodes.pp">
<node CREATED="1389621764511" ID="ID_1457543320" MODIFIED="1389621782032" TEXT="defines all nodes if not using external tool"/>
</node>
</node>
<node CREATED="1389621790299" ID="ID_1196700156" MODIFIED="1389621802063" TEXT="/modules/modulename/">
<node CREATED="1389621810755" ID="ID_1946788253" MODIFIED="1389621838136" TEXT="puppet modules in subdirectories"/>
<node CREATED="1389621838666" ID="ID_1784708631" MODIFIED="1389621880328" TEXT="general building blocks of seerver  e.g openssh"/>
<node CREATED="1389621883490" ID="ID_546063063" MODIFIED="1389621907744" TEXT="defines classes e.g openssh::client"/>
<node CREATED="1389621938866" ID="ID_400363712" MODIFIED="1389621947676" TEXT="structure inside">
<node CREATED="1389621947678" ID="ID_1551265921" MODIFIED="1389621950254" TEXT="manifest"/>
<node CREATED="1389621950555" ID="ID_666500812" MODIFIED="1389621953895" TEXT="files"/>
<node CREATED="1389621954305" ID="ID_254958228" MODIFIED="1389621957879" TEXT="templates"/>
<node CREATED="1389621958130" ID="ID_1927238752" MODIFIED="1389621961534" TEXT="lib"/>
<node CREATED="1389621961802" ID="ID_175808678" MODIFIED="1389621972047" TEXT="tests"/>
<node CREATED="1389621965089" ID="ID_1327782320" MODIFIED="1389621966527" TEXT="spec"/>
</node>
</node>
<node CREATED="1389621982953" ID="ID_1794280557" MODIFIED="1389628642474" TEXT="/modules/user/">
<icon BUILTIN="full-1"/>
<node CREATED="1389622003462" ID="ID_1428174531" MODIFIED="1389622068565" TEXT="special module with user manifest"/>
<node CREATED="1389622068865" ID="ID_1851601597" MODIFIED="1389622091406" TEXT="contains special class user::virtual"/>
<node CREATED="1389622091649" ID="ID_1942551437" MODIFIED="1389622159726" TEXT="and other for logical groupings like user::unxadmin"/>
</node>
<node CREATED="1389622173336" ID="ID_1680986349" MODIFIED="1389622180443" TEXT="/services/">
<node CREATED="1389622180445" ID="ID_1293212986" MODIFIED="1389622275242" TEXT="specyfic for puppetmaster"/>
<node CREATED="1389622314343" ID="ID_416218086" MODIFIED="1389622332816" TEXT="is used to model servers specific to enterprise level infrastructure services "/>
</node>
<node CREATED="1389622337655" ID="ID_1438585408" MODIFIED="1389622342562" TEXT="/client/">
<node CREATED="1389622342565" ID="ID_287632478" MODIFIED="1389622356357" TEXT="same as above but specyfic for client"/>
</node>
<node CREATED="1389622364231" ID="ID_68891354" MODIFIED="1389622410021" TEXT="/notes/">
<node CREATED="1389622370792" ID="ID_1085463124" MODIFIED="1389622393829" TEXT="notes for reference by local sysadmins"/>
</node>
<node CREATED="1389622397103" ID="ID_557731303" MODIFIED="1389622405579" TEXT="/plugins/">
<node CREATED="1389622465270" ID="ID_734874056" MODIFIED="1389622484732" TEXT="custom types programmed in Ruby"/>
</node>
<node CREATED="1389622490214" ID="ID_479083770" MODIFIED="1389622495040" TEXT="/tools/">
<node CREATED="1389622495043" ID="ID_1422172422" MODIFIED="1389622504124" TEXT="scripts usefull in Puppet"/>
</node>
</node>
<node CREATED="1389622523318" ID="ID_280377235" MODIFIED="1389622529817" POSITION="right" TEXT="naming conventions">
<node CREATED="1389622529819" ID="ID_117967267" MODIFIED="1389622535511" TEXT="noedes ">
<node CREATED="1389622535513" ID="ID_1081140822" MODIFIED="1389622553308" TEXT="must have name equal to their hostnames"/>
</node>
</node>
<node CREATED="1389628573023" ID="ID_470743515" MODIFIED="1389628632351" POSITION="right" TEXT="virtual resource declaration">
<icon BUILTIN="full-1"/>
<node CREATED="1389628644782" ID="ID_1945864510" MODIFIED="1389628666419" TEXT="specyfies desire state without adding to catalog"/>
<node CREATED="1389628938308" ID="ID_61773669" MODIFIED="1389628959331" TEXT="can be add to catalog by realizing in manifest"/>
<node CREATED="1389628971028" ID="ID_566811244" MODIFIED="1389628988954" TEXT="it&apos;s two step resource declaration">
<node CREATED="1389628996651" ID="ID_751506924" MODIFIED="1389629001570" TEXT="declared once"/>
<node CREATED="1389629002067" ID="ID_1451985685" MODIFIED="1389629011129" TEXT="realized many times"/>
</node>
<node CREATED="1389629070547" ID="ID_1088099168" MODIFIED="1389629074006" TEXT="purpose">
<node CREATED="1389629074008" ID="ID_306931457" MODIFIED="1389629133313" TEXT="resourses whos managment depends on at least one of multiple conditions"/>
<node CREATED="1389629135115" ID="ID_1262845840" MODIFIED="1389629168721" TEXT="overlaping set of resources which may be required by any number of classes"/>
<node CREATED="1389629169066" ID="ID_430754814" MODIFIED="1389629208648" TEXT="resourses which shlould only be managed if cross-class condition is met"/>
</node>
</node>
</node>
</map>
